/* Global styles and CSS variables - Teal/Coral Tema */
:root {
    /* Nytt Teal/Coral Ljust Tema */
    --primary-color: #2a9d8f;
    --primary-color-dark: #21867c;
    --button-primary-bg: #2a9d8f;
    --button-primary-text: #ffffff;

    --secondary-color: #b5e3d8;
    --accent-color: #e76f51;
    --accent-color-light: #ffebe4;

    --danger-color: #e63946;
    --danger-color-light: #fce8e9;
    --warning-color: #f4a261;
    --warning-color-light: #fef4eb;
    --info-color: #457b9d;
    --info-color-light: #e7f0f5;
    --success-color: #4caf50;
    --success-color-light: #e9f7ea;

    --text-color: #1e2a2b;
    --text-color-muted: #4a5a5c;

    --background-color: #f1fdfc;
    --plate-background-color: #ffffff;
    --input-background-color: #ffffff;

    --border-color: #88c5be;
    --border-radius: 6px;

    --font-family-sans-serif: 'Roboto', sans-serif;
    --font-family-base: var(--font-family-sans-serif);
    --font-size-base: 1rem;
    --line-height-base: 1.6;
    
    /* Gammal fokusfärg, behålls om den används någonstans */
    --focus-ring-color: rgba(42, 157, 143, 0.4);
    /* NY, NEUTRAL FOKUSFÄRG FÖR HYBRID-METODEN */
    --focus-ring-color-outer: #007bff; /* En neutral, högkontrast-blå för ljust tema */

    --container-max-width: 1080px;
    --spacing-unit: 1rem;

    --button-default-bg: #e0f2f1;
    --button-default-text: var(--primary-color-dark);
    --button-default-hover-bg: #cce8e4;
    --button-default-border: var(--secondary-color);

    --button-primary-hover-bg: var(--primary-color-dark);

    --button-accent-bg: var(--accent-color);
    --button-accent-text: #ffffff;
    --button-accent-hover-bg: #d05a3a;

    --button-success-bg: var(--success-color);
    --button-success-text: #ffffff;
    --button-success-hover-bg: #3e8e41;

    --button-danger-bg: var(--danger-color);
    --button-danger-text: #ffffff;
    --button-danger-hover-bg: #c22a36;

    --button-warning-bg: var(--warning-color);
    --button-warning-text: #2a1e14;
    --button-warning-hover-bg: #e08b4a;

    --button-info-bg: var(--info-color);
    --button-info-text: #ffffff;
    --button-info-hover-bg: #35607c;

    /* --- START OF CHANGE --- */
    /* NYA, LJUSARE FÄRGER FÖR GRADIENT I LJUS TEMA */
    --gradient-danger-color: #f7797d; /* Ljusare röd */
    --gradient-warning-color: #fbd786; /* Ljusare gul/orange */
    --gradient-success-color: #84fab0; /* Ljusare grön */
    /* --- END OF CHANGE --- */
}

[data-theme="dark"] {
    /* Nytt Teal/Coral Mörkt Tema */
    --primary-color: #36e2d5;
    --primary-color-dark: #21bdb0;
    --button-primary-bg: #178176;
    --button-primary-text: #eafaf9;

    --secondary-color: #35617a;
    --accent-color: #cc6e52;
    --accent-color-light: rgba(204, 110, 82, 0.1);

    --danger-color: #c94a4a;
    --danger-color-light: rgba(201, 74, 74, 0.1);
    --warning-color: #c9953d;
    --warning-color-light: rgba(201, 149, 61, 0.1);
    --info-color: #4b94b8;
    --info-color-light: rgba(75, 148, 184, 0.1);
    --success-color: #58a47a;
    --success-color-light: rgba(88, 164, 122, 0.1);

    --text-color: #eafaf9;
    --text-color-muted: #a6c1bd;

    --background-color: #1b2326;
    --plate-background-color: #263238;
    --input-background-color: #324247;

    --border-color: #6fa6a1;
    
    /* Gammal fokusfärg */
    --focus-ring-color: rgba(54, 226, 213, 0.4);
    /* NY, NEUTRAL FOKUSFÄRG FÖR HYBRID-METODEN */
    --focus-ring-color-outer: #4dabf7; /* En ljusare blå för mörkt tema */

    --button-default-bg: #37474f;
    --button-default-text: var(--text-color);
    --button-default-hover-bg: #455a64;
    --button-default-border: var(--secondary-color);

    --button-primary-hover-bg: #126a5f;

    --button-accent-bg: var(--accent-color);
    --button-accent-text: #1b2326;
    --button-accent-hover-bg: #b85e42;

    --button-success-text: #1b2326;
    --button-danger-text: #ffffff;
    --button-warning-text: #1b2326;
    --button-info-text: #1b2326;

    /* --- START OF CHANGE --- */
    /* FÖR MÖRKT TEMA ANVÄNDER VI DE EXISTERANDE STARKA FÄRGERNA */
    --gradient-danger-color: var(--danger-color);
    --gradient-warning-color: var(--warning-color);
    --gradient-success-color: var(--success-color);
    /* --- END OF CHANGE --- */
}


*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 100%;
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family-base);
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);
    color: var(--text-color);
    background-color: var(--background-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    min-height: 100vh;
    padding: 2rem 0;
    transition: background-color 0.3s ease, color 0.3s ease;
}

#app-container,
#global-action-bar-top,
#global-action-bar-bottom {
    max-width: var(--container-max-width);
    width: 100%;
    padding: 0 var(--spacing-unit);
    margin-inline: auto;

}

.view-container,
.content-plate {
    background-color: var(--plate-background-color);
    padding: 1.5rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    margin-top: 0rem;
}
.content-plate h1 { margin-bottom: 0.5rem; }
.content-plate .view-intro-text { margin-bottom: 1.5rem; font-size: 1rem; color: var(--text-color-muted); }


h1, h2, h3, h4, h5, h6 {
    margin-bottom: 0.75em;
    font-weight: 500;
    line-height: 1.2;
    color: var(--primary-color);
    transition: color 0.3s ease;
}

p {
    margin-bottom: var(--spacing-unit);
}

a {
    color: var(--primary-color);
    text-decoration: underline;
}
a:hover, a:focus {
    color: var(--primary-color-dark);
}

.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.6rem 1rem;
    margin-right: 0.5rem;
    font-size: var(--font-size-base);
    font-weight: bold;
    line-height: var(--line-height-base);
    text-align: center;
    text-decoration: none;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    border: none;
    border-radius: var(--border-radius);
    gap: 0.5rem;
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}
.button:last-child {
    margin-right: 0;
}
.button svg {
    width: 1.2em;
    height: 1.2em;
}

.button-default {
    color: var(--button-default-text);
    background-color: var(--button-default-bg);
    border: 1px solid var(--button-default-border);
}
.button-default:hover, .button-default:focus {
    background-color: var(--button-default-hover-bg);
}

.button-primary {
    background-color: var(--button-primary-bg);
    color: var(--button-primary-text);
}
.button-primary:hover, .button-primary:focus {
    background-color: var(--button-primary-hover-bg);
}

.button-secondary {
    background-color: var(--secondary-color);
    color: var(--primary-color-dark);
}
[data-theme="dark"] .button-secondary {
    color: var(--text-color);
}
.button-secondary:hover, .button-secondary:focus {
    background-color: color-mix(in srgb, var(--secondary-color) 85%, black);
}

.button-accent {
    background-color: var(--button-accent-bg);
    color: var(--button-accent-text);
}
.button-accent:hover, .button-accent:focus {
    background-color: var(--button-accent-hover-bg);
}

.button-success {
    background-color: var(--success-color);
    color: var(--button-success-text);
}
.button-success:hover, .button-success:focus {
    background-color: var(--button-success-hover-bg);
}

.button-danger {
    background-color: var(--danger-color);
    color: var(--button-danger-text);
}
.button-danger:hover, .button-danger:focus {
    background-color: var(--button-danger-hover-bg);
}

.button-warning {
    background-color: var(--warning-color);
    color: var(--button-warning-text);
}
.button-warning:hover, .button-warning:focus {
    background-color: var(--button-warning-hover-bg);
}

.button-info {
    background-color: var(--info-color);
    color: var(--button-info-text);
}
.button-info:hover, .button-info:focus {
    background-color: var(--button-info-hover-bg);
}

.form-group {
    margin-bottom: 1rem;
}
.form-label {
    display: block;
    margin-bottom: 0.25rem;
    font-weight: 500;
}

.form-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1.5rem;
    width: 100%;
}
.form-actions.space-between-groups {
    justify-content: space-between;
    align-items: center;
}
.form-actions .action-group-left,
.form-actions .action-group-right {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}
.form-actions .action-group-left .button,
.form-actions .action-group-right .button {
    margin-right: 0;
}


.form-control,
input[type="text"],
input[type="url"],
input[type="email"],
textarea,
select {
    display: block;
    width: 100%;
    padding: 0.6rem;
    font-family: var(--font-family-base);
    font-size: var(--font-size-base);
    font-weight: 400;
    line-height: var(--line-height-base);
    color: var(--text-color);
    background-color: var(--input-background-color);
    background-clip: padding-box;
    border: 2px solid var(--border-color);
    appearance: none;
    border-radius: var(--border-radius);
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.form-group > .form-control,
.form-group > input[type="text"],
.form-group > input[type="url"],
.form-group > input[type="email"],
.form-group > textarea,
.form-group > select {
    margin-top: 0;
}


textarea.form-control, textarea {
    min-height: calc(var(--line-height-base) * 3em + 1.2rem + 4px);
    resize: none;
    overflow-y: hidden;
    transition: height 0.3s ease-out;
}

.form-control-small {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.875rem !important;
    height: auto !important;
    min-width: 100px;
    width: auto;
    margin-top: 0 !important;
}

.form-check {
    display: flex;
    align-items: center;
    margin-bottom: 0.5rem;
    min-height: 1.5rem;
}
.form-check-input {
    appearance: auto;
    opacity: 1;
    width: auto; height: auto;
    position: static;
    margin-top: 0;
    margin-right: 0.5em;
    font-family: inherit;
}
.form-check-label {
    cursor: pointer;
    padding-left: 0;
}

/* --- FIX HÄR: Ta bort fokusmarkering för tabindex="-1" --- */
[tabindex="-1"]:focus-visible,
[tabindex="-1"]:focus {
    outline: none;
}
/* --- SLUT PÅ FIX --- */

/* --- NYA, FÖRBÄTTRADE FOKUS-STILAR (HYBRIDMETODEN MED 2PX MELLANRUM) --- */

/* Steg A: Ta bort webbläsarens standard-outline. */
:focus-visible {
  outline: none;
}

/* Steg B: Generell fokusstil för de flesta element. */
/* 1:a skuggan är en 2px lucka. 2:a är den inre ringen. 3:e är den yttre. */
a:focus-visible,
.form-control:focus-visible,
input[type="text"]:focus-visible,
input[type="url"]:focus-visible,
input[type="email"]:focus-visible,
textarea:focus-visible,
select:focus-visible,
.button-default:focus-visible,
.button-secondary:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--primary-color), 0 0 0 6px var(--focus-ring-color-outer);
}

/* Steg C: Specifika fokusstilar för färgade knappar. */
.button-primary:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--button-primary-bg), 0 0 0 6px var(--focus-ring-color-outer);
}
.button-accent:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--button-accent-bg), 0 0 0 6px var(--focus-ring-color-outer);
}
.button-success:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--button-success-bg), 0 0 0 6px var(--focus-ring-color-outer);
}
.button-danger:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--button-danger-bg), 0 0 0 6px var(--focus-ring-color-outer);
}
.button-warning:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--button-warning-bg), 0 0 0 6px var(--focus-ring-color-outer);
}
.button-info:focus-visible {
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--button-info-bg), 0 0 0 6px var(--focus-ring-color-outer);
}

/* Steg D: Specialregel för checkboxes. */
.form-check-input:focus-visible + .form-check-label {
    border-radius: var(--border-radius);
    box-shadow: 0 0 0 2px var(--plate-background-color), 0 0 0 4px var(--primary-color), 0 0 0 6px var(--focus-ring-color-outer);
}

/* --- SLUT PÅ NYA FOKUS-STILAR --- */


input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
  border: 2px solid var(--border-color) !important;
  -webkit-text-fill-color: var(--text-color) !important;
  -webkit-box-shadow: 0 0 0px 1000px var(--input-background-color) inset !important;
  transition: background-color 5000s ease-in-out 0s !important;
  font-family: var(--font-family-base) !important;
  font-size: var(--font-size-base) !important;
}

.hidden { display: none !important; }
.visually-hidden {
    border: 0; clip: rect(0 0 0 0); height: 1px; margin: -1px;
    overflow: hidden; padding: 0; position: absolute; width: 1px;
    white-space: nowrap;
}
.text-danger { color: var(--danger-color); }
.text-success { color: var(--success-color); }
.text-warning { color: var(--warning-color); }
.text-info { color: var(--info-color); }
.text-muted { color: var(--text-color-muted); }

.info-block dl { margin-bottom: var(--spacing-unit); }
.info-block dt { font-weight: 700; color: var(--text-color); }
.info-block dd { margin-left: 0; margin-bottom: 0.5rem; color: var(--text-color-muted); }

.item-list { list-style: none; padding: 0; }
.item-list-item {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    margin-bottom: var(--spacing-unit);
    background-color: var(--plate-background-color);
    display: flex;
    flex-direction: column;
    align-items: stretch;
    padding: 1rem;
}
.item-list-item .sample-info {
    margin-bottom: 0.75rem;
    width: 100%;
}
.item-list-item .sample-info h3 {
    font-size: 1.2rem;
    margin-top: 0;
    margin-bottom: 0.35rem;
    color: var(--text-color);
}
.item-list-item .sample-info p {
    font-size: 0.9rem;
    color: var(--text-color-muted);
    margin-bottom: 0.35rem;
    line-height: 1.4;
}
.item-list-item .sample-info p strong {
    color: var(--text-color);
    font-weight: 500;
}
.item-list-item .sample-info .content-types-display {
    font-size: 0.85rem;
    margin-top: 0.5rem;
}
.item-list-item .sample-info .content-types-display ul {
    list-style: disc;
    margin-left: 1.25rem;
    padding-left: 0.5rem;
}
.item-list-item .sample-info .content-types-display li {
    margin-bottom: 0.1rem;
}
.item-list-item .sample-actions-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    margin-top: 0.5rem;
}
.item-list-item .sample-actions-main {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}
.item-list-item .sample-actions-main .button,
.item-list-item .sample-actions-delete .button {
    margin-right: 0;
}

.button.button-small {
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
}
.button.button-small svg {
    width: 1em;
    height: 1em;
}

@media (max-width: 600px) {
    .item-list-item .sample-actions-wrapper {
        flex-direction: column;
        align-items: stretch;
    }
    .item-list-item .sample-actions-main {
        margin-bottom: 0.5rem;
        justify-content: flex-start;
    }
    .item-list-item .sample-actions-main .button,
    .item-list-item .sample-actions-delete .button {
        width: 100%;
        margin-bottom: 0.5rem;
    }
    .item-list-item .sample-actions-main .button:last-child,
    .item-list-item .sample-actions-delete .button:last-child {
        margin-bottom: 0;
    }
}

@media (max-width: 576px) {
    body { padding: 1rem 0.5rem; }
    #app-container, #global-action-bar-top, #global-action-bar-bottom { padding: 0 0.5rem; }
    h1 { font-size: 1.75rem; }
    h2 { font-size: 1.5rem; }
    .button { padding: 0.5rem 1rem; font-size: 0.9rem; }
}

/* Global transitions */
body, #app-container, .button, .form-control,
input[type="text"], input[type="url"], input[type="email"], textarea, select,
.item-list-item, .view-container, .content-plate {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Global Message Area Styles (flyttad från notification_component.css) */
#global-message-area {
    padding: 1rem;
    margin-bottom: 1.5rem; /* Utrymme till H1 eller annat innehåll */
    border: 1px solid transparent;
    border-radius: var(--border-radius);
    position: relative; /* För att positionera stängningsknappen absolut */
}
#global-message-area[hidden] { display: none; }
.global-message-close-btn {
    background: none; border: none;
    font-size: 1.5rem; line-height: 1;
    cursor: pointer; padding: 0 0.5rem; opacity: 0.7;
    position: absolute; top: 50%; right: 1rem;
    transform: translateY(-50%);
}
.global-message-close-btn:hover,
.global-message-close-btn:focus { opacity: 1; }

#global-message-area.message-info {
    background-color: var(--info-color-light);
    border-color: var(--info-color);
    color: #004085; /* Mörk text på ljusblå bakgrund */
}
#global-message-area.message-info .global-message-close-btn { color: #004085; }
[data-theme="dark"] #global-message-area.message-info {
    background-color: #0c5460; /* Mörkare info-bakgrund */
    border-color: var(--info-color); /* Använder den ljusare info-färgen för kanten */
    color: var(--text-color); /* Ljus text på mörk bakgrund */
}
[data-theme="dark"] #global-message-area.message-info .global-message-close-btn { color: var(--text-color); }

#global-message-area.message-success {
    background-color: var(--success-color-light);
    border-color: var(--success-color);
    color: #155724; /* Mörk text på ljusgrön bakgrund */
}
#global-message-area.message-success .global-message-close-btn { color: #155724; }
[data-theme="dark"] #global-message-area.message-success {
    background-color: #126128; /* Mörkare success-bakgrund */
    border-color: var(--success-color);
    color: var(--text-color);
}
[data-theme="dark"] #global-message-area.message-success .global-message-close-btn { color: var(--text-color); }

#global-message-area.message-warning {
    background-color: var(--warning-color-light);
    border-color: var(--warning-color);
    color: #856404; /* Mörk text på ljusgul bakgrund */
}
#global-message-area.message-warning .global-message-close-btn { color: #856404; }
[data-theme="dark"] #global-message-area.message-warning {
    background-color: #806600; /* Mörkare warning-bakgrund */
    border-color: var(--warning-color);
    color: var(--text-color);
}
[data-theme="dark"] #global-message-area.message-warning .global-message-close-btn { color: var(--text-color); }

#global-message-area.message-error {
    background-color: var(--danger-color-light);
    border-color: var(--danger-color);
    color: #721c24; /* Mörk text på ljusröd bakgrund */
}
#global-message-area.message-error .global-message-close-btn { color: #721c24; }
[data-theme="dark"] #global-message-area.message-error {
    background-color: #5a1219;
    border-color: var(--danger-color);
    color: var(--text-color);
}
[data-theme="dark"] #global-message-area.message-error .global-message-close-btn { color: var(--text-color); }

.form-actions,
.item-list-item .sample-actions-wrapper,
.item-list-item .sample-actions-main {
    min-width: 0;   /* låt raden krympa inom containern */
}

.form-actions,
.item-list-item .sample-actions-wrapper,
.item-list-item .sample-actions-main,
.button {
    overflow-wrap: anywhere;  /* bryt långa strängar/URL om det behövs */
}